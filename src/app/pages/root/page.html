<lintel-configs
  (categorySelected)="scrollToTop()"
  class="configs">
</lintel-configs>

<ng-container
  *ngIf="selection.fileName">

  <ng-container
    *ngIf="configs.configuration; else invalidConfig">

    <ng-container
      [ngSwitch]="selection.category">

      <lintel-general 
        *ngSwitchCase="params.generalSettings"
        class="general settings">
      </lintel-general>

      <div
        *ngSwitchDefault
        class="rules settings">

        <lintel-filter
          class="filter">
        </lintel-filter>

        <lintel-tabs
          (pluginSelected)="scrollToTop()"
          class="tabs">
        </lintel-tabs>

        <lintel-scroller
          [hydratorMargin]="'100px'" 
          [hydratorTrace]="true"
          [ngSwitch]="selection.category"
          class="rules"
          id="theScroller"
          lintelHydrator>

          <lintel-rules 
            [view]="configs.activeView"
            *ngSwitchCase="params.activeCategory">
          </lintel-rules>

          <lintel-rules 
            [view]="configs.unknownView"
            *ngSwitchCase="params.unknownCategory">
          </lintel-rules>

          <lintel-rules 
            [view]="configs.categoryView[selection.category]"
            *ngSwitchDefault>
          </lintel-rules>

        </lintel-scroller>

      </div>

    </ng-container>

  </ng-container>

  <ng-template
    #invalidConfig>

    <div
      (click)="editFile(selection.fileName)"
      class="exception settings">
      <div>
        <div>This configuration file cannot be analyzed</div>
        <a>Edit in {{ selection.fileName }}</a>
      </div>
    </div>

  </ng-template>


</ng-container>
